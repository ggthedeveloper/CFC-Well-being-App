
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --c1: #1a0a2e; --c2: #16213e; --c3: #0f3460;
  --accent: #e94560; --accent2: #a855f7; --accent3: #06b6d4;
  --glass: rgba(255,255,255,0.06); --glass-border: rgba(255,255,255,0.12);
  --text: #f0eaf8; --text-muted: rgba(240,234,248,0.5);
  --card-shadow: 0 20px 60px rgba(0,0,0,0.4);
}
.light {
  --c1:#f0edf7;--c2:#e4ddf5;--c3:#d0c4f0;--accent:#e94560;--accent2:#7c3aed;--accent3:#0891b2;
  --glass:rgba(255,255,255,0.55);--glass-border:rgba(120,80,200,0.18);--text:#1a0a2e;
  --text-muted:rgba(26,10,46,0.5);--card-shadow:0 20px 60px rgba(124,58,237,0.1);
}
body {
  font-family:'DM Sans',sans-serif;
  background:linear-gradient(135deg,var(--c1) 0%,var(--c2) 50%,var(--c3) 100%);
  color:var(--text); min-height:100vh; transition: background .5s,color .3s; overflow-x:hidden;
}
body::before,body::after {
  content:''; position:fixed; border-radius:50%; filter:blur(80px); opacity:.15;
  pointer-events:none; animation:floatOrb 12s ease-in-out infinite alternate; z-index:0;
}
body::before { 
    width:500px;
    height:500px;
    background:var(--accent2);
    top:-100px;left:-100px; 
}
body::after  { 
    width:400px;
    height:400px;
    background:var(--accent3);
    bottom:-80px;
    right:-80px;
    animation-delay:-6s;
 }
@keyframes floatOrb { 
    from{transform:translate(0,0) scale(1)} to{transform:translate(60px,40px) scale(1.15)} 
}

.app-wrapper { position:relative;z-index:1;max-width:1100px;margin:0 auto;padding:20px 16px 60px; }

/* CARD */
.card {
  background:var(--glass); backdrop-filter:blur(20px) saturate(1.4);
  -webkit-backdrop-filter:blur(20px) saturate(1.4); border:1px solid var(--glass-border);
  border-radius:22px; padding:28px; box-shadow:var(--card-shadow); transition:transform .3s,box-shadow .3s;
}
.card:hover { transform:translateY(-3px); }

/* HEADER */
.header { display:flex;
    align-items:center;
    justify-content:space-between;
    margin-bottom:24px;padding:16px 24px; 
}
.logo { font-family:'DM Serif Display',serif;
font-size:1.6rem;
display:flex;
align-items:center;
gap:10px;letter-spacing:-.02em; 
}
.logo-dot { width:10px;
    height:10px;
    background:var(--accent);
    border-radius:50%;box-shadow:0 0 12px var(--accent);
    animation:pulse 2.5s ease-in-out infinite; 
}
@keyframes pulse { 
    0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.5);opacity:.6} 
}
.header-actions { 
    display:flex;
    gap:10px;
    align-items:center; 
}
.streak-badge { 
    display:flex;
    align-items:center;
    gap:6px;background:rgba(233,69,96,.15);
    border:1px solid rgba(233,69,96,.3);
    color:var(--accent);padding:6px 14px;
    border-radius:30px;font-size:.85rem;
    font-weight:600; 
}
.user-chip { display:flex;
    align-items:center;
    gap:8px;background:var(--glass);
    border:1px solid var(--glass-border);
    padding:6px 14px;border-radius:30px;
    font-size:.85rem; 
}
.avatar { width:28px;
    height:28px;
    border-radius:50%;
    background:linear-gradient(135deg,var(--accent2),var(--accent));
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:700;
    font-size:.75rem;
    color:#fff; 
}
.icon-btn { width:38px;
    height:38px;
    border-radius:50%;
    background:var(--glass);
    border:1px solid var(--glass-border);
    color:var(--text);cursor:pointer;display:flex;
    align-items:center;justify-content:center;
    font-size:1rem;transition:.2s; 
}
.icon-btn:hover { background:rgba(255,255,255,.15);transform:scale(1.08); }

/* GRIDS */
.main-grid { display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px; }
@media(max-width:700px){.main-grid{grid-template-columns:1fr}}
.bottom-row { display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px;margin-bottom:20px; }
@media(max-width:700px){.bottom-row{grid-template-columns:1fr}}

/* LABELS */
.section-label { font-size:.7rem;font-weight:600;letter-spacing:.15em;text-transform:uppercase;color:var(--text-muted);margin-bottom:16px; }
.section-title { font-family:'DM Serif Display',serif;font-size:1.5rem;margin-bottom:20px;line-height:1.2; }

/* MOOD BUTTONS */
.mood-grid { display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:20px; }
.mood-btn { display:flex;flex-direction:column;align-items:center;gap:6px;padding:14px 8px;border-radius:16px;cursor:pointer;border:1.5px solid transparent;background:rgba(255,255,255,.05);color:var(--text);font-family:'DM Sans',sans-serif;font-size:.8rem;font-weight:500;transition:all .25s cubic-bezier(.34,1.56,.64,1);position:relative;overflow:hidden; }
.mood-btn::before { content:'';position:absolute;inset:0;background:currentColor;opacity:0;transition:opacity .2s; }
.mood-btn:hover { transform:translateY(-4px) scale(1.04);border-color:var(--glass-border); }
.mood-btn:hover::before { opacity:.07; }
.mood-btn.active { border-color:currentColor;transform:translateY(-4px) scale(1.06);box-shadow:0 8px 24px rgba(0,0,0,.3); }
.mood-btn.active::before { opacity:.12; }
.mood-emoji { font-size:1.9rem;line-height:1; }
.mood-btn[data-mood="happy"]{color:#f59e0b}.mood-btn[data-mood="calm"]{color:#06b6d4}
.mood-btn[data-mood="sad"]{color:#60a5fa}.mood-btn[data-mood="anxious"]{color:#f97316}
.mood-btn[data-mood="lonely"]{color:#a78bfa}.mood-btn[data-mood="stressed"]{color:#f43f5e}

/* MOOD FEEDBACK */
.mood-feedback { background:rgba(255,255,255,.05);border-radius:16px;padding:18px;min-height:100px;transition:all .4s;border:1px solid var(--glass-border); }
.mood-feedback.empty { opacity:.4; }
.feedback-title { font-family:'DM Serif Display',serif;font-size:1.15rem;margin-bottom:6px; }
.feedback-msg { font-size:.85rem;color:var(--text-muted);margin-bottom:12px; }
.suggestions-list { list-style:none;display:flex;flex-wrap:wrap;gap:7px; }
.suggestion-tag { background:rgba(255,255,255,.1);border:1px solid var(--glass-border);border-radius:20px;padding:4px 12px;font-size:.78rem;font-weight:500; }

/* JOURNAL */
.journal-area { width:100%;background:rgba(255,255,255,.04);border:1px solid var(--glass-border);border-radius:14px;color:var(--text);font-family:'DM Sans',sans-serif;font-size:.9rem;padding:14px;resize:vertical;min-height:90px;margin-top:14px;outline:none;transition:border-color .2s; }
.journal-area:focus { border-color:var(--accent2); }
.journal-area::placeholder { color:var(--text-muted); }
.save-btn { margin-top:10px;padding:10px 24px;border-radius:30px;background:linear-gradient(135deg,var(--accent2),var(--accent));border:none;color:#fff;font-family:'DM Sans',sans-serif;font-weight:600;font-size:.88rem;cursor:pointer;transition:all .25s;letter-spacing:.02em;box-shadow:0 4px 20px rgba(168,85,247,.35); }
.save-btn:hover { transform:translateY(-2px);box-shadow:0 8px 28px rgba(168,85,247,.5); }

/* STATS */
.stat-card { text-align:center;padding:22px 16px; }
.stat-num { font-family:'DM Serif Display',serif;font-size:2.4rem;line-height:1;background:linear-gradient(135deg,var(--accent2),var(--accent3));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text; }
.stat-label { font-size:.75rem;color:var(--text-muted);margin-top:4px;font-weight:500; }

/* HISTORY */
.history-item { display:flex;align-items:flex-start;gap:14px;padding:12px 0;border-bottom:1px solid var(--glass-border);animation:slideIn .3s ease forwards;opacity:0;transform:translateX(-10px); }
@keyframes slideIn { to{opacity:1;transform:translateX(0)} }
.history-emoji { font-size:1.4rem;margin-top:2px; }
.history-mood { font-weight:600;font-size:.9rem;text-transform:capitalize; }
.history-note { font-size:.78rem;color:var(--text-muted);margin-top:2px;font-style:italic; }
.history-date { font-size:.72rem;color:var(--text-muted);margin-left:auto;white-space:nowrap;padding-top:2px; }
.empty-state { text-align:center;color:var(--text-muted);padding:30px;font-size:.9rem; }

/* ACTION ROW */
.action-row { display:flex;gap:10px;flex-wrap:wrap;margin-top:16px; }
.action-btn { flex:1;min-width:100px;padding:11px 12px;border-radius:14px;background:var(--glass);border:1px solid var(--glass-border);color:var(--text);font-family:'DM Sans',sans-serif;font-size:.82rem;font-weight:500;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:7px; }
.action-btn:hover { background:rgba(255,255,255,.14);transform:translateY(-2px); }

/* HEATMAP */
.heatmap-row { display:flex;gap:8px;flex-wrap:wrap;margin-top:12px; }
.heatmap-day { display:flex;flex-direction:column;align-items:center;gap:4px; }
.heatmap-dot { width:34px;height:34px;border-radius:10px;background:rgba(255,255,255,.07);border:1px solid var(--glass-border);display:flex;align-items:center;justify-content:center;font-size:1.1rem;transition:transform .2s; }
.heatmap-dot:hover { transform:scale(1.15); }
.heatmap-day-label { font-size:.65rem;color:var(--text-muted);font-weight:600;letter-spacing:.05em; }

/* ── MODAL ── */
.modal-overlay { position:fixed;inset:0;background:rgba(10,5,25,.75);backdrop-filter:blur(6px);display:none;align-items:center;justify-content:center;z-index:100;padding:16px; }
.modal-overlay.open { display:flex; }
.modal-box { background:linear-gradient(145deg,#1e103a,#12213d);border:1px solid var(--glass-border);border-radius:24px;padding:28px;width:100%;max-width:540px;max-height:88vh;overflow-y:auto;box-shadow:0 30px 80px rgba(0,0,0,.5);animation:popIn .25s cubic-bezier(.34,1.56,.64,1); }
.light .modal-box { background:linear-gradient(145deg,#f8f4ff,#edf2ff); }
@keyframes popIn { from{transform:scale(.9) translateY(20px);opacity:0}to{transform:scale(1) translateY(0);opacity:1} }
.modal-header { display:flex;justify-content:space-between;align-items:center;margin-bottom:20px; }
.modal-title { font-family:'DM Serif Display',serif;font-size:1.4rem; }
.close-btn { width:32px;height:32px;border-radius:50%;background:rgba(255,255,255,.1);border:none;color:var(--text);cursor:pointer;font-size:1rem;transition:.2s;display:flex;align-items:center;justify-content:center; }
.close-btn:hover { background:rgba(255,255,255,.2); }

/* ── CHAT ── */
.chat-messages { height:280px;overflow-y:auto;padding:12px;background:rgba(0,0,0,.15);border-radius:14px;margin-bottom:12px;display:flex;flex-direction:column;gap:10px;scroll-behavior:smooth; }
.chat-bubble { max-width:78%;padding:10px 14px;border-radius:16px;font-size:.87rem;line-height:1.5;animation:bubbleIn .2s ease; }
@keyframes bubbleIn { from{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1} }
.bubble-user { background:linear-gradient(135deg,var(--accent2),var(--accent));color:#fff;align-self:flex-end;border-bottom-right-radius:4px; }
.bubble-ai { background:rgba(255,255,255,.09);border:1px solid var(--glass-border);align-self:flex-start;border-bottom-left-radius:4px; }
.bubble-label { font-size:.68rem;font-weight:600;letter-spacing:.08em;opacity:.6;margin-bottom:3px; }
.chat-input-row { display:flex;gap:8px; }
.chat-input { flex:1;background:rgba(255,255,255,.07);border:1px solid var(--glass-border);border-radius:14px;color:var(--text);font-family:'DM Sans',sans-serif;font-size:.88rem;padding:10px 14px;outline:none;transition:border-color .2s; }
.chat-input:focus { border-color:var(--accent2); }
.chat-send { padding:10px 18px;border-radius:14px;background:linear-gradient(135deg,var(--accent2),var(--accent));border:none;color:#fff;font-family:'DM Sans',sans-serif;font-weight:600;font-size:.85rem;cursor:pointer;transition:.2s; }
.chat-send:hover { opacity:.88;transform:scale(1.04); }
.typing-indicator { display:flex;gap:4px;padding:4px 0; }
.typing-dot { width:7px;height:7px;background:var(--text-muted);border-radius:50%;animation:typingBounce 1.2s ease-in-out infinite; }
.typing-dot:nth-child(2){animation-delay:.2s}.typing-dot:nth-child(3){animation-delay:.4s}
@keyframes typingBounce { 0%,80%,100%{transform:translateY(0)}40%{transform:translateY(-7px)} }

/* ── MUSIC PLAYER ── */
.music-player { background:rgba(255,255,255,.05);border:1px solid var(--glass-border);border-radius:18px;padding:20px;margin-bottom:16px; }
.music-header { display:flex;align-items:center;gap:12px;margin-bottom:16px; }
.music-art { width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.6rem;flex-shrink:0; }
.music-info { flex:1; }
.music-title { font-weight:600;font-size:.95rem; }
.music-artist { font-size:.78rem;color:var(--text-muted);margin-top:2px; }
.music-controls { display:flex;align-items:center;gap:12px;justify-content:center; }
.music-btn { width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,.1);border:1px solid var(--glass-border);color:var(--text);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1rem;transition:.2s; }
.music-btn:hover { background:rgba(255,255,255,.2);transform:scale(1.1); }
.music-btn.play-btn { width:52px;height:52px;background:linear-gradient(135deg,var(--accent2),var(--accent));border:none;font-size:1.2rem;box-shadow:0 4px 16px rgba(168,85,247,.4); }
.music-btn.play-btn:hover { transform:scale(1.08);box-shadow:0 6px 22px rgba(168,85,247,.6); }
.music-progress { margin-top:14px; }
.progress-bar-wrap { height:4px;background:rgba(255,255,255,.1);border-radius:4px;cursor:pointer;margin-bottom:6px;position:relative; }
.progress-bar-fill { height:100%;background:linear-gradient(90deg,var(--accent2),var(--accent));border-radius:4px;transition:width .5s; }
.progress-times { display:flex;justify-content:space-between;font-size:.7rem;color:var(--text-muted); }
.volume-row { display:flex;align-items:center;gap:8px;margin-top:10px; }
.volume-slider { flex:1;-webkit-appearance:none;appearance:none;height:3px;background:rgba(255,255,255,.15);border-radius:3px;outline:none;cursor:pointer; }
.volume-slider::-webkit-slider-thumb { -webkit-appearance:none;width:14px;height:14px;border-radius:50%;background:var(--accent2);cursor:pointer; }
.playlist { margin-top:16px;display:flex;flex-direction:column;gap:6px; }
.playlist-item { display:flex;align-items:center;gap:10px;padding:8px 12px;border-radius:10px;cursor:pointer;transition:.2s;border:1px solid transparent; }
.playlist-item:hover { background:rgba(255,255,255,.08); }
.playlist-item.active { background:rgba(168,85,247,.15);border-color:rgba(168,85,247,.3); }
.playlist-item-num { font-size:.7rem;color:var(--text-muted);width:16px;text-align:center; }
.playlist-item-info { flex:1 }
.playlist-item-title { font-size:.82rem;font-weight:500; }
.playlist-item-dur { font-size:.7rem;color:var(--text-muted);margin-top:1px; }
.playlist-item-playing { font-size:.65rem;color:var(--accent2); }
.mood-tabs { display:flex;gap:8px;flex-wrap:wrap;margin-bottom:16px; }
.mood-tab { padding:6px 14px;border-radius:20px;font-size:.78rem;font-weight:500;cursor:pointer;border:1px solid var(--glass-border);background:transparent;color:var(--text);transition:.2s; }
.mood-tab.active { background:var(--accent2);border-color:var(--accent2);color:#fff; }

/* ── GAMES ── */
.games-grid { display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px; }
@media(max-width:500px){.games-grid{grid-template-columns:1fr}}
.game-card { background:rgba(255,255,255,.05);border:1px solid var(--glass-border);border-radius:16px;padding:18px;text-align:center;cursor:pointer;transition:.25s; }
.game-card:hover { background:rgba(255,255,255,.12);transform:translateY(-3px); }
.game-emoji { font-size:2.2rem;margin-bottom:8px; }
.game-name { font-weight:600;font-size:.9rem;margin-bottom:4px; }
.game-desc { font-size:.75rem;color:var(--text-muted); }
.game-mood-badge { display:inline-block;font-size:.65rem;padding:3px 8px;border-radius:10px;background:rgba(168,85,247,.2);color:var(--accent2);margin-top:6px;font-weight:600; }

/* BREATHING GAME */
.breathing-circle { width:150px;height:150px;border-radius:50%;background:linear-gradient(135deg,var(--accent2),var(--accent3));margin:20px auto;display:flex;align-items:center;justify-content:center;font-size:.9rem;font-weight:600;color:#fff;transition:transform 4s ease-in-out,opacity .3s;box-shadow:0 0 40px rgba(168,85,247,.4); }
.breathing-circle.expand { transform:scale(1.6); }
.breathing-circle.shrink { transform:scale(1); }
.breathing-instruction { text-align:center;font-size:1rem;margin:12px 0;font-weight:500; }
.breathing-counter { text-align:center;font-size:2.5rem;font-family:'DM Serif Display',serif;color:var(--accent2); }

/* MEMORY GAME */
.memory-grid { display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin:16px 0; }
.memory-card { height:60px;border-radius:12px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.5rem;background:rgba(255,255,255,.08);border:1px solid var(--glass-border);transition:.3s;position:relative;transform-style:preserve-3d; }
.memory-card.flipped,
.memory-card.matched { background:rgba(168,85,247,.2);border-color:var(--accent2); }
.memory-card.matched { opacity:.6;cursor:default; }
.memory-card-back { font-size:1.4rem; }
.memory-score { text-align:center;font-size:.9rem;color:var(--text-muted);margin-bottom:8px; }

/* CLICKER GAME */
.clicker-area { text-align:center;padding:20px; }
.clicker-emoji { font-size:5rem;cursor:pointer;user-select:none;transition:transform .1s;display:inline-block; }
.clicker-emoji:active { transform:scale(.88); }
.clicker-score { font-family:'DM Serif Display',serif;font-size:3rem;color:var(--accent2); }
.clicker-label { font-size:.8rem;color:var(--text-muted);margin-top:4px; }
.clicker-combo { font-size:.85rem;color:var(--accent);font-weight:600;min-height:1.2em; }

/* WORD SCRAMBLE */
.scramble-word { font-family:'DM Serif Display',serif;font-size:2.2rem;letter-spacing:.2em;text-align:center;padding:16px;color:var(--accent2); }
.scramble-input { width:100%;background:rgba(255,255,255,.07);border:1px solid var(--glass-border);border-radius:14px;color:var(--text);font-family:'DM Sans',sans-serif;font-size:1rem;padding:10px 14px;outline:none;text-align:center;margin-bottom:10px; }
.scramble-input:focus { border-color:var(--accent2); }
.scramble-feedback { text-align:center;font-size:.9rem;min-height:1.4em;font-weight:600; }
.game-btn { padding:10px 24px;border-radius:30px;background:linear-gradient(135deg,var(--accent2),var(--accent));border:none;color:#fff;font-family:'DM Sans',sans-serif;font-weight:600;font-size:.88rem;cursor:pointer;transition:all .25s;box-shadow:0 4px 16px rgba(168,85,247,.3); }
.game-btn:hover { transform:translateY(-2px);box-shadow:0 6px 22px rgba(168,85,247,.5); }
.game-stats-row { display:flex;justify-content:center;gap:24px;margin:10px 0; }
.game-stat { text-align:center; }
.game-stat-num { font-family:'DM Serif Display',serif;font-size:1.6rem;color:var(--accent2); }
.game-stat-label { font-size:.7rem;color:var(--text-muted); }

/* ── LOGIN ── */
.login-screen { min-height:100vh;display:flex;align-items:center;justify-content:center;position:relative;z-index:1;padding:20px; }
.login-box { max-width:400px;width:100%;text-align:center;padding:44px 36px; }
.login-title { font-family:'DM Serif Display',serif;font-size:2.4rem;margin-bottom:8px;letter-spacing:-.02em; }
.login-sub { color:var(--text-muted);font-size:.92rem;margin-bottom:30px;line-height:1.5; }
.login-input { width:100%;background:rgba(255,255,255,.07);border:1px solid var(--glass-border);border-radius:14px;color:var(--text);font-family:'DM Sans',sans-serif;font-size:.95rem;padding:14px 18px;outline:none;transition:border-color .2s;margin-bottom:12px;text-align:center; }
.login-input:focus { border-color:var(--accent2); }
.login-btn { width:100%;padding:14px;border-radius:14px;background:linear-gradient(135deg,var(--accent2),var(--accent));border:none;color:#fff;font-family:'DM Sans',sans-serif;font-weight:600;font-size:1rem;cursor:pointer;transition:all .25s;box-shadow:0 6px 24px rgba(168,85,247,.4);letter-spacing:.02em; }
.login-btn:hover { transform:translateY(-2px);box-shadow:0 10px 32px rgba(168,85,247,.55); }
.login-switch { margin-top:16px;font-size:.82rem;color:var(--text-muted); }
.login-switch span { color:var(--accent2);cursor:pointer;font-weight:600; }
.login-switch span:hover { text-decoration:underline; }
.pass-toggle { position:absolute;right:14px;top:50%;transform:translateY(-50%);cursor:pointer;color:var(--text-muted);font-size:.9rem;user-select:none; }
.input-wrap { position:relative;margin-bottom:12px; }
.input-wrap .login-input { margin-bottom:0;padding-right:40px; }
.input-error { font-size:.78rem;color:var(--accent);text-align:left;margin-top:4px;margin-bottom:8px;min-height:1.2em; }

/* SCROLLBAR */
::-webkit-scrollbar{width:5px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:rgba(255,255,255,.15);border-radius:10px}

/* TOAST */
.toast { position:fixed;bottom:24px;left:50%;transform:translateX(-50%) translateY(80px);background:#1e103a;border:1px solid var(--glass-border);color:var(--text);padding:12px 22px;border-radius:30px;font-size:.85rem;z-index:999;transition:transform .35s cubic-bezier(.34,1.56,.64,1);pointer-events:none;white-space:nowrap;box-shadow:0 10px 30px rgba(0,0,0,.4); }
.toast.show { transform:translateX(-50%) translateY(0); }
